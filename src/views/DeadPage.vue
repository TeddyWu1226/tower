<script setup lang="ts">
import {useGameStateStore} from "@/store/game-state-store";

import {getEnumColumn} from "@/utils/enum";
import {StageEnum} from "@/enums/stage-enum";
import {useTrackerStore} from "@/store/track-store";

const emit = defineEmits(['restart']);
const gameStateStore = useGameStateStore()
const trackerStore = useTrackerStore()

const restartGame = async () => {
  gameStateStore.init()
  emit('restart')
}

</script>

<template>
  <el-card
      class="dead"
      body-class="flex items-center justify-center flex-column"
  >
    <h1 style="color:var(--el-color-danger)">
      ğŸª¦YOU DIEDğŸª¦
    </h1>
    <h1 style="color:var(--el-color-danger);text-align: center">
      ä½ åœ¨ç„¡ç›¡ä¹‹å¡”ä¸­å­˜æ´»äº† {{ gameStateStore.days }} å¤©
      <br/>
      å€’åœ¨äº†ç¬¬ {{ gameStateStore.currentStage }} éšæ®µ - {{
        getEnumColumn(StageEnum, gameStateStore.currentStage)
      }} çš„æ—…é€”ä¸Š
    </h1>
<!--    <div>-->
<!--      <el-button type="primary" class="other-btn">é¡¯ç¤ºå…¶ä»–æ•¸æ“š</el-button>-->
<!--    </div>-->
    <el-button type="danger" style="width: 100%;height: 5rem" @click="restartGame">
      é‡æ–°é–‹å§‹
    </el-button>
  </el-card>
</template>


<style scoped>

.dead {
  height: 82vh;
  padding-bottom: 15vh;
}

.other-btn {
  height: 2rem;
  margin: 1rem;
}
</style>
